<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.css">
    
  <style>
  </style>
</head>
<body>
   <div id="root"></div>
  <script src="main.js"></script>
  
  <script>
    
    var getLocations = function(){
      var locations = JSON.parse(localStorage.locations || '[]' ) || [];
      console.log("get Locations :" + locations);
      return locations ? locations : [] ;
    }
    
    
    var app = Elm.Main.init({
      node: document.getElementById('root'),
    flags : { locations : getLocations()}
    });
    
    app.ports.saveLocations.subscribe(function(locations) {
      localStorage.locations = JSON.stringify(locations);
    });
  </script>
</body>
</html>
